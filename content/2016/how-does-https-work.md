Title: Https是如何工作的
Category: Article
Tags: blog
Summary: Https的工作原理
picture: images/p.jpg

<center>Https是如何工作的?</center>
Https这个名词在日常编程中已经是习以为常了，写代码的时候也会涉及到相关的概念，那么为什么相关的代码要那样写，所以来讲下Https。

#### 密码系统(Cipher)
众所周知，如果我们要加密解密一些信息，我们必须要有一个key，就相当于如果你想打开一扇门或者锁上一扇门，你必须要有一把钥匙。  
在不同的编程语言中都有相应的生成key的库或者函数，可以生成对称加密的可以，也可以生成非对称加密的key。

* 对称加密的key  
  -- 加密跟解密用同一把钥匙  
* 非对称加密的key  
  -- 加密跟解密用的不是同一把钥匙，key通常分成公钥跟私钥。公钥可以被大范围的发布，然而私钥只有它的所有者才知道。
  在一个非对称加密的方案中，当信息被公钥加密了以后，只有私钥才能够对信息进行解密，所以，如果一个黑客，截取了你的公钥和你加密过的信息，他不能够对信息进行解密，因为他没有该公钥对应的私钥，所以这条消息的传输是安全的。

#### 证书(Certificate)  
在现实生活中，如果你到珠宝店里面买珠宝，你如何来判别这个珠宝是不是真的呢？一个普通人通常是没有任何珠宝知识的，但是如果每件珠宝都有一个被政府下发的许可证，那么你就会相信这个珠宝是真的了。  
证书(Certificate)的道理是一样的，在计算机世界里，证书通常会包括一些key和另外一个证书，暂且叫做证书B，其中的key是我所想要的，证书B就相当于一个许可证，来证明这个证书是可信的。  
那么问题来了，我怎么知道证书B是可信的呢？这是一个好问题。  
Android手机系统被内置了150多个根证书，这个150多个根证书是被全世界所信任的，就相当于是，他们是国家政府，你要相信你的政府。  
证书B中会包含另外一个证书C，所以我们要去检查证书C是不是可信的，我们依照这个证书链一层层检查下去，如果我们发现最后一个证书或者根证书是这150个证书里面的一个，那么一开始的那个证书B就是可信的了。
